package isn.gui;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.net.MalformedURLException;
import java.net.URL;

import javax.swing.JApplet;
import javax.swing.JComboBox;

public class ImageDrawingApplet extends JApplet {

	static String imageFileName = "examples/bld.jpg";
	private URL imageSrc;

	public ImageDrawingApplet () {
	}

	public ImageDrawingApplet (URL imageSrc) {
		this.imageSrc = imageSrc;
	}

	@Override
	public void init() {
		try {
			imageSrc = new URL(getCodeBase(), imageFileName);
		} catch (MalformedURLException e) {
		}
		buildUI();
	}

	public void buildUI() {
		final ImageDrawingComponent id = new ImageDrawingComponent(imageSrc);
		add("Center", id);
		JComboBox choices = new JComboBox(id.getDescriptions());
		choices.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				JComboBox cb = (JComboBox)e.getSource();
				id.setOpIndex(cb.getSelectedIndex());
				id.repaint();
			};
		});
		add("South", choices);
	}
}